---
import AppLayout from "@/layouts/AppLayout.astro";
import Layout from "@/layouts/Layout.astro";
import { NotFoundView } from "@/components/error/NotFoundView";

// Get user from middleware (set in src/middleware/index.ts)
const user = Astro.locals.user;
const isAuthenticated = !!user;

const title = "Strona nie zosta≈Ça znaleziona - BookFlow";
---

{
  isAuthenticated ? (
    <AppLayout title={title}>
      <NotFoundView client:load isAuthenticated={isAuthenticated} />
    </AppLayout>
  ) : (
    <Layout title={title}>
      <NotFoundView client:load isAuthenticated={isAuthenticated} />
    </Layout>
  )
}
